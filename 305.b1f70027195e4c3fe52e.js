"use strict";(self.webpackChunkherbie21=self.webpackChunkherbie21||[]).push([[305],{5305:(A,d,r)=>{r.r(d),r.d(d,{ManutencaoModule:()=>y});var s=r(8583),n=r(665),m=r(8239),f=r(6738),t=r(639),l=r(711),p=r(6364),g=r(8424),h=r(9077);function Z(o,i){if(1&o&&t._UZ(0,"app-datatable",5),2&o){const a=t.oxw();t.Q6J("columns",a.columns)("data",a.data)}}let v=(()=>{class o{constructor(a,e){this.route=a,this.manutencaoervice=e,this.title="",this.loading=!1,this.columns=[],this.data=[],this.title=a.snapshot.data.title}ngOnInit(){var a=this;return(0,m.Z)(function*(){a.loading=!0,a.columns=[{title:"Servico",data:"service"},{title:"Categoria",data:"category"},{title:"Data",data:"date"},{title:"Pre\xe7o",data:"price"}],yield a.buscaDados(),setTimeout(()=>{a.loading=!1},500)})()}buscaDados(){var a=this;return(0,m.Z)(function*(){a.data=[],a.manutencaoervice.read_all().subscribe(e=>{e.forEach(c=>{null==c.price&&(c.price=0);let u={service:c.service,category:c.category,date:a.formataData(c.date),price:c.price};a.data.push(u)})})})()}formataData(a){return f(a).format("DD/MM/YYYY")}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(l.gz),t.Y36(p.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-visualiza-manutencao"]],decls:7,vars:3,consts:[[1,"titulo"],[1,"linha"],[1,"mb-4"],["class","mt-2",3,"columns","data",4,"ngIf"],[3,"loading"],[1,"mt-2",3,"columns","data"]],template:function(a,e){1&a&&(t.TgZ(0,"header"),t.TgZ(1,"h2",0),t._uU(2),t.qZA(),t._UZ(3,"hr",1),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,Z,1,2,"app-datatable",3),t.qZA(),t._UZ(6,"app-loading",4)),2&a&&(t.xp6(2),t.Oqu(e.title),t.xp6(3),t.Q6J("ngIf",e.data.length>0),t.xp6(1),t.Q6J("loading",e.loading))},directives:[s.O5,g.N,h.n],styles:[".titulo[_ngcontent-%COMP%]{font-size:1.2rem;color:#eee;text-align:center;margin-top:1rem}"]}),o})();function M(o,i){if(1&o){const a=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"form",5),t.NdJ("submit",function(){return t.CHM(a),t.oxw().submit()}),t.TgZ(2,"div",6),t.TgZ(3,"label",7),t._uU(4,"Data da realiza\xe7\xe3o da manuten\xe7\xe3o: "),t.qZA(),t._UZ(5,"input",8),t.qZA(),t.TgZ(6,"label",7),t._uU(7,"Categoria do servi\xe7o: "),t.qZA(),t.TgZ(8,"select",9),t._UZ(9,"option"),t.TgZ(10,"option"),t._uU(11,"Mecanico"),t.qZA(),t.TgZ(12,"option"),t._uU(13,"Pintura"),t.qZA(),t.TgZ(14,"option"),t._uU(15,"Limpeza"),t.qZA(),t.qZA(),t.TgZ(16,"div",10),t.TgZ(17,"label",7),t._uU(18,"Resumo do servi\xe7o executado: "),t.qZA(),t._UZ(19,"input",11),t.qZA(),t.TgZ(20,"div",6),t.TgZ(21,"label",7),t._uU(22,"Pre\xe7o: "),t.qZA(),t._UZ(23,"input",12),t.qZA(),t.TgZ(24,"div",6),t.TgZ(25,"label",7),t._uU(26,"Observa\xe7\xf5es: "),t.qZA(),t._UZ(27,"textarea",13),t.qZA(),t.TgZ(28,"div",14),t.TgZ(29,"button",15),t._uU(30,"Cadastrar"),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&o){const a=t.oxw();t.xp6(1),t.Q6J("formGroup",a.cadastraManutencaoForm),t.xp6(28),t.Q6J("disabled",a.cadastraManutencaoForm.invalid)}}const C=[{path:"cadastra",component:(()=>{class o{constructor(a,e,c,u){this.fb=a,this.route=e,this.manutencaoService=c,this.router=u,this.title="",this.loading=!1,this.title=e.snapshot.data.title}ngOnInit(){this.loading=!0,this.initForm(),setTimeout(()=>{this.loading=!1},500)}initForm(){this.cadastraManutencaoForm=this.fb.group({price:["",[n.kI.required]],service:["",[n.kI.required]],category:["",[n.kI.required]],date:["",[n.kI.required]],observation:[""]})}submit(){this.loading=!0,this.manutencaoService.create(this.cadastraManutencaoForm.value).subscribe(a=>{this.loading=!1,this.router.navigate(["home/manutencao/visualiza"])},a=>{console.log(a),this.loading=!1})}}return o.\u0275fac=function(a){return new(a||o)(t.Y36(n.qu),t.Y36(l.gz),t.Y36(p.K),t.Y36(l.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-cadastra-manutencao"]],decls:6,vars:3,consts:[[1,"titulo"],[1,"linha"],["class","pt-3 mb-4 container",4,"ngIf"],[3,"loading"],[1,"pt-3","mb-4","container"],[3,"formGroup","submit"],[1,"form-group"],[1,"label-cad-manu"],["type","date","formControlName","date",1,"form-control","form-control-lg"],["formControlName","category",1,"form-control","form-control-lg"],[1,"form-group","mt-3"],["type","text","formControlName","service",1,"form-control","form-control-lg"],["formControlName","price","type","number","step","0.01","placeholder","Digite o pre\xe7o",1,"form-control","form-control-lg"],["formControlName","observation","rows","3",1,"form-control"],[1,"col","text-center"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(a,e){1&a&&(t.TgZ(0,"header"),t.TgZ(1,"h2",0),t._uU(2),t.qZA(),t._UZ(3,"hr",1),t.qZA(),t.YNc(4,M,31,2,"div",2),t._UZ(5,"app-loading",3)),2&a&&(t.xp6(2),t.Oqu(e.title),t.xp6(2),t.Q6J("ngIf",!e.loading),t.xp6(1),t.Q6J("loading",e.loading))},directives:[s.O5,g.N,n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,n.EJ,n.YN,n.Kr,n.wV],styles:["label.label-cad-manu[_ngcontent-%COMP%]{color:#fff}.titulo[_ngcontent-%COMP%]{font-size:1.2rem;color:#eee;text-align:center;margin-top:1rem}.linha[_ngcontent-%COMP%]{background-color:#eee;width:10px}select[_ngcontent-%COMP%]{width:100%;padding:10px;border-radius:4px}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{color:#495057}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#656565;border-color:#656565}[_ngcontent-%COMP%]::placeholder{color:#999;font-size:1rem}input[type=date][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:1rem}"]}),o})(),data:{title:"Cadastro de manuten\xe7\xe3o"}},{path:"visualiza",component:v,data:{title:"Visualiza manuten\xe7\xe3o"}}];let b=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(C)],l.Bz]}),o})();var T=r(5474);let y=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.ez,n.u5,n.UX,b,T.m]]}),o})()}}]);